<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Instana POT/Monitoring a Cloud Native App/simulate-failure">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Troubleshoot an issue | IBM AIOps Proof of Technology</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://github.com/aiops-pot/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://github.com/aiops-pot/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://github.com/aiops-pot/docs/Instana POT/Monitoring a Cloud Native App/simulate-failure"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Troubleshoot an issue | IBM AIOps Proof of Technology"><meta data-rh="true" name="description" content="Troubleshooting Ratings Endpoint Failures"><meta data-rh="true" property="og:description" content="Troubleshooting Ratings Endpoint Failures"><link data-rh="true" rel="icon" href="/aiops-pot/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/aiops-pot/docs/Instana POT/Monitoring a Cloud Native App/simulate-failure"><link data-rh="true" rel="alternate" href="https://github.com/aiops-pot/docs/Instana POT/Monitoring a Cloud Native App/simulate-failure" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/aiops-pot/docs/Instana POT/Monitoring a Cloud Native App/simulate-failure" hreflang="x-default"><link rel="stylesheet" href="/aiops-pot/assets/css/styles.db4162a7.css">
<link rel="preload" href="/aiops-pot/assets/js/runtime~main.326993db.js" as="script">
<link rel="preload" href="/aiops-pot/assets/js/main.51e61455.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/aiops-pot/"><div class="navbar__logo"><img src="/aiops-pot/assets/images/ibm-watson-logo.png" alt="IBM AIOps" class="themedImage_ToTc themedImage--light_HNdA"><img src="/aiops-pot/assets/images/ibm-watson-logo.png" alt="IBM AIOps" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">AIOps Proof of Technology</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aiops-pot/docs/intro">Tutorial</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/aiops-pot/docs/intro">AIOps Proof of Technology</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/aiops-pot/docs/category/instana-pot">Instana POT</a><button aria-label="Toggle the collapsible sidebar category &#x27;Instana POT&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/aiops-pot/docs/category/lab-1-cloud-native">Lab 1: Cloud Native</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 1: Cloud Native&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/aiops-pot/docs/Instana POT/Monitoring a Cloud Native App/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/aiops-pot/docs/Instana POT/Monitoring a Cloud Native App/k8s-agent-install">Instana Agent Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/aiops-pot/docs/Instana POT/Monitoring a Cloud Native App/ui-tour">Explore Instana</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/aiops-pot/docs/Instana POT/Monitoring a Cloud Native App/define-app-perspective">Define App Perspectives</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/aiops-pot/docs/Instana POT/Monitoring a Cloud Native App/end-user-monitoring">End User Monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/aiops-pot/docs/Instana POT/Monitoring a Cloud Native App/simulate-failure">Troubleshoot an issue</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/aiops-pot/docs/Instana POT/Monitoring a Cloud Native App/alerts-channel">Alerts and Alert channels</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/aiops-pot/docs/category/lab-2-websphere--db2">Lab 2: WebSphere &amp; DB2</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 2: WebSphere &amp; DB2&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/aiops-pot/docs/category/lab-3-mqace">Lab 3: MQ/ACE</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lab 3: MQ/ACE&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aiops-pot/docs/category/turbonomic-pot">Turbonomic POT</a><button aria-label="Toggle the collapsible sidebar category &#x27;Turbonomic POT&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/aiops-pot/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/aiops-pot/docs/category/instana-pot"><span itemprop="name">Instana POT</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/aiops-pot/docs/category/lab-1-cloud-native"><span itemprop="name">Lab 1: Cloud Native</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Troubleshoot an issue</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Troubleshoot an issue</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting-ratings-endpoint-failures">Troubleshooting Ratings Endpoint Failures<a href="#troubleshooting-ratings-endpoint-failures" class="hash-link" aria-label="Direct link to Troubleshooting Ratings Endpoint Failures" title="Direct link to Troubleshooting Ratings Endpoint Failures">​</a></h2><p>We are going to simulate the following (Ratings Endpoint Failures) failures in the system using Anomaly Generator running at <a href="http://169.62.62.164:3012" target="_blank" rel="noopener noreferrer">http://169.62.62.164:3012</a>
Please visit the URL: <a href="http://169.62.62.164:3012" target="_blank" rel="noopener noreferrer">http://169.62.62.164:3012</a></p><p>Double Click on qotd-rating Endpoint Failures as shown below.</p><p><img loading="lazy" alt="Click_on_Ratings_Endpoint_Failures" src="/aiops-pot/assets/images/Click_on_Ratings_Endpoint_Failures-8a2496cdeec3818706669260b7d34095.png" width="1458" height="833" class="img_ev3q"></p><p>Now Click on &quot;Start&quot; whenever you are ready to inject the following failures as shown below in the picture.</p><p><img loading="lazy" alt="Click_on_Start" src="/aiops-pot/assets/images/Click_on_Start-7a27e3f48442732a36e1e6b1274a464f.png" width="1292" height="765" class="img_ev3q"></p><p>Now the system will take time to simulate the failures. Please give atleast 3-5 minutes for the system to simulate the failures.</p><p>All of these failures will be in the qotd-rating service. There are going to be 4 failure scenarios in teh qotd-rating service.</p><ol><li>Rating service failing with 500/404 errors half of the time.</li><li>Increase latency in primary GET /ratings/:id to 0.9 seconds</li><li>Start new independent log - unknown code every 4 seconds in quote service</li><li>Start new dependent logger on /ratings/:id endpoint.</li></ol><p>Our troubleshooting can start with looking at the qotd-rating service in Applications. Please set the time duration to the last 10 minutes and go to Ratings service in Applications view.</p><p>Our goal is to show you the steps to troubleshoot this scenario. Please click on Applications as shown in the picture below. </p><p><img loading="lazy" alt="Click_On_Applications1" src="/aiops-pot/assets/images/Click_On_Applications1-e7fc29934724aa9b510dcf23ac103ec8.png" width="1856" height="482" class="img_ev3q"></p><p>Please click on qotd-rating application as shown in the picture below. </p><p><img loading="lazy" alt="Click_on_qotd_rating" src="/aiops-pot/assets/images/Click_on_qotd_rating-544da7bf3c841b4bbc2f768b63c71cf4.png" width="1874" height="433" class="img_ev3q"></p><p>Now we will surface only the 4XX and 5XX errors from these services as shown in the picture below.</p><p><img loading="lazy" alt="4XX_5XX_response_codes" src="/aiops-pot/assets/images/4XX_5XX_response_codes-2fb0cbf431378cdf97730c1c4e5c36de.png" width="1869" height="915" class="img_ev3q"></p><p>Now we will try to drag and drop into the time period where the errors were being produced and the time period on the top right corner will get changed on its own from 10 minutes to the drag and drop time period as shown below. We are trying go back in time to see the errors. </p><p><img loading="lazy" alt="Drag_drop_erroneous_spikes" src="/aiops-pot/assets/images/Drag_drop_erroneous_spikes-fb40bdaadd35d7cd02cd9bb681390d76.png" width="1866" height="866" class="img_ev3q"></p><p>Now we are going to look at qotd-rating application and verify all the simulated failure conditions based on the information we see in the graphs. For example: we can see the latency spike to 0.9 second as shown in Step 2 and Step 3. This proves Condition 2 in the failures section. You can see this from the picture below. </p><p><img loading="lazy" alt="Validating_failures_part2" src="/aiops-pot/assets/images/Validating_failures_part2-abe113a9676f1e3025da1d9e525e144a.png" width="1869" height="1001" class="img_ev3q"></p><p>Now we can see all the end points getting errors as shown in the picture below which satisfies Condition 1. </p><p><img loading="lazy" alt="see_all_failures_with_GET_Ratings" src="/aiops-pot/assets/images/see_all_failures_with_GET_Ratings-004a742db9e848ca8a092047c80a589b.png" width="1860" height="963" class="img_ev3q"></p><p>Now we have to analyze all the failures by from the qotd-rating service as shown in the picture below.</p><p><img loading="lazy" alt="GET_Ratings" src="/aiops-pot/assets/images/GET_Ratings-b855dd6671afe1b0774b1950c2ebff38.png" width="1877" height="993" class="img_ev3q"></p><p>In this Analytics screen you can see that we are automatically looking at qotd-rating service and trying to expose only the 4XX and 5XX response codes as shown in the picture below.</p><p><img loading="lazy" alt="4XX_5XX_Analytics" src="/aiops-pot/assets/images/4XX_5XX_Analytics-fa203471ab23a4ca9efcb0b51ed6c57d.png" width="1867" height="1008" class="img_ev3q"></p><p>Now we are selecting the top group which has the most 4XX and 5XX errors. Notice you did not have to type any SQL query to get to this result since Instana automatically knows the context of your troubleshooting scenario.</p><p><img loading="lazy" alt="Select_Group" src="/aiops-pot/assets/images/Select_Group-7a375337fa0b8a4d3e72071eaedfeb07.png" width="1877" height="1003" class="img_ev3q"></p><p>Now we have all the traces with 4XX and 5XX response codes and we can select any one of them to see what is going on inside our code.</p><p><img loading="lazy" alt="select_red_color" src="/aiops-pot/assets/images/select_red_color-498d408da3cae0bd02e24cd3a43c298a.png" width="1874" height="994" class="img_ev3q"></p><p>you can see the 500 response code and warning Log message below along with the stack trace which will tell you the exact code with the line number responsible for the problem.</p><p><img loading="lazy" alt="STACK_TRACE_Error_Logs" src="/aiops-pot/assets/images/STACK_TRACE_Error_Logs-06c907a541815d77b0cc3bead5179cf6.png" width="1878" height="997" class="img_ev3q"></p><p>Lastly you can see the log message which the simulation injected. </p><p><img loading="lazy" alt="Log_message" src="/aiops-pot/assets/images/Log_message-7d48e791eca91a54d279080c2d21dea5.png" width="1854" height="953" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/aiops-pot/docs/Instana POT/Monitoring a Cloud Native App/end-user-monitoring"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">End User Monitoring</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/aiops-pot/docs/Instana POT/Monitoring a Cloud Native App/alerts-channel"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Alerts and Alert channels</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#troubleshooting-ratings-endpoint-failures" class="table-of-contents__link toc-highlight">Troubleshooting Ratings Endpoint Failures</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.ibm.com/docs/en/obi/current" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instana<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docs.turbonomic.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Turbonomic<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 IBM.</div></div></div></footer></div>
<script src="/aiops-pot/assets/js/runtime~main.326993db.js"></script>
<script src="/aiops-pot/assets/js/main.51e61455.js"></script>
</body>
</html>